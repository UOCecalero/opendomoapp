// Declaraciónn de variables globales
var estado, menulateral, menuprincipal, setting, app;

// Guardamos en variables elementos para poder rescatarlos después sin tener que volver a buscarlos
 menuprincipal = document.getElementById("menu_principal"),
 menulateral = document.getElementById("menu_lateral"),
 settings = document.getElementById("settings");
 
 
 app = {
    // Application Constructor
    
    initialize: function() {
        this.bindEvents();
    },

    bindEvents: function() {
        document.addEventListener('deviceready', this.onDeviceReady, false);
    },
    
     onDeviceReady: function() {
        app.receivedEvent('deviceready');
    },
    
    receivedEvent: function(id) {
        var parentElement = document.getElementById(id);
        var listeningElement = parentElement.querySelector('.listening');
        var receivedElement = parentElement.querySelector('.received');

        listeningElement.setAttribute('style', 'display:none;');
        receivedElement.setAttribute('style', 'display:block;');

        console.log('Received Event: ' + id);
    }
};

window.onload = function() 
{
	estado = "menuprincipal";
	
	// Añadimos las clases necesarias
	menuprincipal.className = 'page center';
	menulateral.className = 'page center';
	settings.className = 'page center';
	
}

	
	function menu(opcion) 
	{
		
	// Si pulsamos en el botón de "menu" entramos en el if
	if(opcion=="derecha")
	{
		
		if(estado=="menuprincipal")
		{			
			menuprincipal.className = 'page transition right';
			settings.className = 'page transition right';			
			estado="menulateral";
			
		} else if(estado=="menulateral")
		{			
			menuprincipal.className = 'page transition center';
			settings.className = 'page transition center';
			estado="menuprincipal";	
		} 

	// Si pulsamos el botón settings entramos en el elseif	
	
	} else if(opcion=="izquierda")
	
	{
			if(estado=="menuprincipal")
			{
				menuprincipal.className = 'page transition left';
				menulateral.className = 'page transition left';
				estado="settings"
				
			} else if(estado=="settings")
			{	
				menuprincipal.className = 'page transition center'
				menulateral.className = 'page transition center';
				estado="menuprincipal";
			}
		
	
	}	
	

	
}

	
	

	


